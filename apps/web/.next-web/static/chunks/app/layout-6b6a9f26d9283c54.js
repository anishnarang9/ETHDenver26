(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{347:()=>{},2027:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,347,23)),Promise.resolve().then(t.t.bind(t,4954,23)),Promise.resolve().then(t.t.bind(t,5740,23)),Promise.resolve().then(t.t.bind(t,4850,23)),Promise.resolve().then(t.bind(t,3830)),Promise.resolve().then(t.bind(t,4346))},3830:(e,a,t)=>{"use strict";t.d(a,{AmbientBackground:()=>l});var s=t(5155),n=t(9124),r=t(2115);function l(){let[e,a]=(0,r.useState)({x:0,y:0});return(0,r.useEffect)(()=>{let e=e=>{a({x:(e.clientX/window.innerWidth-.5)*26,y:(e.clientY/window.innerHeight-.5)*26})};return window.addEventListener("mousemove",e,{passive:!0}),()=>window.removeEventListener("mousemove",e)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"ambient-grid"}),(0,s.jsx)(n.P.div,{className:"ambient-orb one",animate:{x:.4*e.x,y:.3*e.y},transition:{type:"spring",stiffness:40,damping:22}}),(0,s.jsx)(n.P.div,{className:"ambient-orb two",animate:{x:-.5*e.x,y:.35*e.y},transition:{type:"spring",stiffness:30,damping:20}}),(0,s.jsx)(n.P.div,{className:"ambient-orb three",animate:{x:.32*e.x,y:-.42*e.y},transition:{type:"spring",stiffness:28,damping:20}})]})}},4346:(e,a,t)=>{"use strict";t.d(a,{AppShell:()=>b});var s=t(5155),n=t(5565),r=t(8173),l=t.n(r),d=t(6046),o=t(2115),i=t(7401);let c=(0,i.A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),u=(0,i.A)("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),p=(0,i.A)("Waypoints",[["circle",{cx:"12",cy:"4.5",r:"2.5",key:"r5ysbb"}],["path",{d:"m10.2 6.3-3.9 3.9",key:"1nzqf6"}],["circle",{cx:"4.5",cy:"12",r:"2.5",key:"jydg6v"}],["path",{d:"M7 12h10",key:"b7w52i"}],["circle",{cx:"19.5",cy:"12",r:"2.5",key:"1piiel"}],["path",{d:"m13.8 17.7 3.9-3.9",key:"1wyg1y"}],["circle",{cx:"12",cy:"19.5",r:"2.5",key:"13o1pw"}]]),m=(0,i.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),h=(0,i.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),g=(0,i.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),y=(0,i.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var _=t(7072),x=t(7051),E=t(7174);let N=[{href:"/console",label:"Dashboard",icon:c},{href:"/setup",label:"Setup",icon:u},{href:"/timeline",label:"Enforcement",icon:p},{href:"/guardrails",label:"Agents",icon:m}];function f(e){let{label:a,value:t,ok:n=!0}=e;return(0,s.jsxs)("div",{className:"chip",role:"status","aria-label":"".concat(a," ").concat(t),children:[(0,s.jsx)("span",{className:"chip-dot",style:{background:n?"var(--accent-lime)":"var(--accent-red)"}}),(0,s.jsx)("span",{className:"chip-label",children:a}),(0,s.jsx)("span",{className:"mono",children:t})]})}function A(){let e=new Date().getFullYear();return(0,s.jsx)("footer",{className:"app-footer",children:(0,s.jsxs)("div",{className:"app-footer-inner",children:[(0,s.jsxs)("div",{className:"app-footer-brand",children:[(0,s.jsx)(n.default,{src:"/logo.png",alt:"Actuate logo",width:18,height:18}),(0,s.jsx)("span",{children:"Actuate"})]}),(0,s.jsx)("p",{className:"app-footer-copy",children:"Autonomous Agent Commerce Infrastructure"}),(0,s.jsxs)("span",{className:"app-footer-meta",children:["\xa9 ",e," Actuate"]})]})})}function b(e){let{children:a}=e,t=(0,d.usePathname)(),r=(0,d.useRouter)(),i="https://kite-planner.onrender.com",[c,u]=(0,o.useState)(!1),[p,m]=(0,o.useState)(!1),[b,v]=(0,o.useState)("dark"),I=e=>{try{return new URL(e).host}catch(a){return e}},w="/setup"===t,S="/"===t,k=S||w,T=w||S;(0,o.useEffect)(()=>{m((0,x.J_)()),u(!0)},[t]),(0,o.useEffect)(()=>{try{let e=window.localStorage.getItem("actuate_theme_v1")||window.localStorage.getItem("tripdesk_theme_v1"),a="light"===e||"dark"===e?e:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";v(a),document.documentElement.setAttribute("data-theme",a)}catch(e){document.documentElement.setAttribute("data-theme","dark")}},[]);let j=()=>{let e="dark"===b?"light":"dark";v(e),document.documentElement.setAttribute("data-theme",e);try{window.localStorage.setItem("actuate_theme_v1",e),window.localStorage.removeItem("tripdesk_theme_v1")}catch(e){}};(0,o.useEffect)(()=>{c&&(p||T||r.replace("/setup"))},[T,c,r,p]);let R=(0,o.useMemo)(()=>p?N.filter(e=>"/setup"!==e.href):N.filter(e=>"/"===e.href||"/setup"===e.href),[p]);return k?(0,s.jsxs)("div",{className:"app-shell-stack",children:[(0,s.jsxs)("div",{className:S?"landing-page-shell":"setup-page-shell",children:[(0,s.jsxs)("button",{className:"theme-toggle",onClick:j,"aria-label":"Toggle light and dark mode",children:["dark"===b?(0,s.jsx)(h,{size:14}):(0,s.jsx)(g,{size:14}),(0,s.jsx)("span",{children:"dark"===b?"Light":"Dark"})]}),a]}),(0,s.jsx)(A,{})]}):c?(0,s.jsxs)("div",{className:"app-shell-stack",children:[(0,s.jsx)(E.L,{url:"".concat(i,"/api/events"),children:(0,s.jsxs)("div",{className:"shell",children:[(0,s.jsxs)("button",{className:"theme-toggle",onClick:j,"aria-label":"Toggle light and dark mode",children:["dark"===b?(0,s.jsx)(h,{size:14}):(0,s.jsx)(g,{size:14}),(0,s.jsx)("span",{children:"dark"===b?"Light":"Dark"})]}),(0,s.jsxs)("aside",{className:"left-rail",children:[(0,s.jsxs)("div",{className:"rail-brand",children:[(0,s.jsxs)("div",{className:"rail-brand-lockup",children:[(0,s.jsx)(n.default,{src:"/logo.png",alt:"Actuate logo",width:28,height:28}),(0,s.jsx)("p",{className:"rail-logo",children:"Actuate"})]}),(0,s.jsx)("p",{className:"rail-tag",children:"Autonomous Agent Console"})]}),(0,s.jsx)("nav",{className:"rail-nav","aria-label":"Primary navigation",children:R.map(e=>{let a=e.icon,n=t===e.href;return(0,s.jsxs)(l(),{href:e.href,className:"nav-link".concat(n?" active":""),children:[(0,s.jsx)(a,{size:16}),(0,s.jsx)("span",{children:e.label})]},e.href)})}),(0,s.jsxs)("div",{className:"rail-footer",children:[(0,s.jsx)("span",{className:"badge ok",children:"Kite Testnet"}),!p&&(0,s.jsx)("span",{className:"badge warn",children:"Setup Locked"})]})]}),(0,s.jsxs)("div",{className:"main-frame",children:[(0,s.jsxs)("header",{className:"utility-bar",children:[(0,s.jsxs)("div",{className:"search-wrap",children:[(0,s.jsx)(y,{size:14,color:"var(--text-1)"}),(0,s.jsx)("input",{className:"search-input",placeholder:"Command search (runs, actions, tx hash)"})]}),(0,s.jsxs)("div",{className:"utility-right",children:[(0,s.jsxs)("div",{className:"chip mission-chip",children:[(0,s.jsx)(_.A,{size:12}),(0,s.jsx)("span",{className:"chip-label",children:"Mission"}),(0,s.jsx)("span",{className:"mono",children:"Live"})]}),(0,s.jsx)(f,{label:"Planner",value:I(i)}),(0,s.jsx)(f,{label:"Gateway",value:I("https://kite-gateway.onrender.com")}),(0,s.jsx)(f,{label:"Chain",value:"2368"}),(0,s.jsx)(f,{label:"Wallet",value:"0xe95C796f820217bC745727761Ce7F4882B51fe7E".slice(0,10),ok:!0})]})]}),!p&&!w&&(0,s.jsx)("div",{className:"notice",children:"Setup is required before operations. Complete the guided flow to unlock Operations, Enforcement, and Agent controls."}),(0,s.jsx)("main",{className:"canvas-card",children:a})]})]})}),(0,s.jsx)(A,{})]}):(0,s.jsx)("div",{className:"shell-loading",children:(0,s.jsxs)("div",{className:"chip",children:[(0,s.jsx)("span",{className:"chip-dot"}),(0,s.jsx)("span",{className:"chip-label",children:"Booting Actuate Console"})]})})}},4850:e=>{e.exports={style:{fontFamily:"'JetBrains Mono', 'JetBrains Mono Fallback'",fontStyle:"normal"},className:"__className_3c557b",variable:"__variable_3c557b"}},4954:e=>{e.exports={style:{fontFamily:"'Space Grotesk', 'Space Grotesk Fallback'",fontStyle:"normal"},className:"__className_dd5b2f",variable:"__variable_dd5b2f"}},5740:e=>{e.exports={style:{fontFamily:"'IBM Plex Sans', 'IBM Plex Sans Fallback'",fontStyle:"normal"},className:"__className_c8daab",variable:"__variable_c8daab"}},6046:(e,a,t)=>{"use strict";var s=t(6658);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},7051:(e,a,t)=>{"use strict";t.d(a,{J_:()=>r,Rr:()=>l});let s="actuate_setup_complete_v1",n="tripdesk_setup_complete_v1";function r(){try{let e=window.localStorage.getItem(s);if("true"===e)return!0;return"true"===window.localStorage.getItem(n)}catch(e){return!1}}function l(e){try{window.localStorage.setItem(s,e?"true":"false"),window.localStorage.removeItem(n)}catch(e){}}},7072:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(7401).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},7174:(e,a,t)=>{"use strict";t.d(a,{L:()=>m,k:()=>h});var s=t(5155),n=t(2115);let r={emails:[],browsers:{},enforcementSteps:[],transactions:[],thoughts:{},agentStatuses:{},spawnedAgents:[],orchestratorPhase:"",agentPlan:[],agentResults:[],agentNodes:[{id:"planner",role:"orchestrator",status:"active"}],emailEdges:[],selectedNodeId:null,selectedEdgeId:null,inboxAddresses:{}};function l(e){return"planner"===e?"orchestrator":"rider"===e||"foodie"===e||"eventbot"===e?e:"specialist"}function d(e,a){let t=e.findIndex(e=>e.id===a.id);if(-1===t)return[...e,{id:a.id,role:a.role||l(a.id),status:a.status||"spawning",address:a.address,inboxAddress:a.inboxAddress}];let s=[...e];return s[t]={...s[t],...a,role:a.role||s[t].role,status:a.status||s[t].status},s}function o(e,a){let t=e.spawnedAgents.findIndex(e=>e.id===a.id),s=-1===t?[...e.spawnedAgents,a]:e.spawnedAgents.map((e,s)=>s===t?{...e,...a}:e);return{...e,spawnedAgents:s,agentNodes:d(e.agentNodes,{id:a.id,role:a.role,status:a.status,address:a.address,inboxAddress:a.inboxAddress})}}function i(e,a){if(e.inboxAddresses[a])return e.inboxAddresses[a];if(a.includes("planner"))return"planner";let t=e.spawnedAgents.find(e=>e.inboxAddress===a);return null==t?void 0:t.id}function c(e,a,t){let{from:s,to:n,subject:r,body:l,threadId:d}=t,o=n?i(e,n)||n:"unknown",c={id:"edge-".concat(Date.now(),"-").concat(Math.random()),fromAgentId:a.agentId,toAgentId:o,subject:r,timestamp:Date.now(),threadId:d},u={id:"mail-".concat(Date.now(),"-").concat(Math.random()),from:s,to:n,subject:r,body:l,timestamp:new Date().toISOString(),agentId:a.agentId||"planner"};return{...e,emails:[...e.emails,u],emailEdges:[...e.emailEdges,c]}}function u(e,a){switch(a.type){case"EMAIL_RECEIVED":case"EMAIL_SENT":{let t=a.payload.payload;return c(e,a.payload,{from:t.from||a.payload.agentId,to:t.to,subject:t.subject||"",body:t.body||""})}case"AGENT_EMAIL_SENT":{let t=a.payload.payload;return c(e,a.payload,{from:t.from||a.payload.agentId,to:t.to,subject:t.subject||"",body:t.body||"",threadId:t.threadId})}case"AGENT_EMAIL_RECEIVED":{let t=a.payload.payload;return function(e,a,t){let{from:s,to:n,subject:r,body:l,threadId:d}=t,o=s?i(e,s)||s:"unknown",c={id:"edge-".concat(Date.now(),"-").concat(Math.random()),fromAgentId:o,toAgentId:a.agentId,subject:r,timestamp:Date.now(),threadId:d},u={id:"mail-".concat(Date.now(),"-").concat(Math.random()),from:s,to:n,subject:r,body:l,timestamp:new Date().toISOString(),agentId:"human"===o?"human":a.agentId};return{...e,emails:[...e.emails,u],emailEdges:[...e.emailEdges,c]}}(e,a.payload,{from:t.from||"unknown",to:t.to,subject:t.subject||"",body:t.body||"",threadId:t.threadId})}case"ORCHESTRATOR_DECISION":default:return e;case"BROWSER_SESSION":{var t,s;let n=a.payload.payload,r=a.payload.agentId,l="active"===(s=n.status)||"closed"===s||"revoked"===s||"standby"===s?s:"active";return{...e,browsers:{...e.browsers,[r]:{agentId:r,liveViewUrl:n.liveViewUrl||(null===(t=e.browsers[r])||void 0===t?void 0:t.liveViewUrl),status:l,sessionId:n.sessionId}},agentNodes:d(e.agentNodes,{id:r,status:l})}}case"LLM_THINKING":return{...e,thoughts:{...e.thoughts,[a.payload.agentId]:a.payload.payload.text||""}};case"ENFORCEMENT_STEP":{let t=a.payload.payload,s={step:t.step||e.enforcementSteps.length+1,name:t.name||t.eventType||"Unknown",status:t.status||"pass",detail:t.detail};return{...e,enforcementSteps:[...e.enforcementSteps,s]}}case"PAYMENT_START":{let t=a.payload.payload,s={id:"tx-".concat(Date.now(),"-").concat(Math.random()),from:a.payload.agentId||"planner",to:t.target||"service",amount:t.amount||"0",method:t.method||"pending",status:"pending",timestamp:new Date().toISOString()};return{...e,transactions:[...e.transactions,s]}}case"PAYMENT_COMPLETE":{let t=a.payload.payload,s=[...e.transactions],n=[...s].reverse().find(e=>"pending"===e.status);return n&&(n.status="complete",n.txHash=t.txHash,n.amount=t.amount||n.amount,n.method=t.method||n.method),{...e,transactions:s}}case"PAYMENT_FAILED":{let a=[...e.transactions],t=[...a].reverse().find(e=>"pending"===e.status);return t&&(t.status="failed"),{...e,transactions:a}}case"AGENT_STATUS":{let t=a.payload.payload.status||"idle";return{...e,agentStatuses:{...e.agentStatuses,[a.payload.agentId]:t},spawnedAgents:"planner"===a.payload.agentId?e.spawnedAgents:e.spawnedAgents.map(e=>e.id===a.payload.agentId?{...e,status:t}:e),agentNodes:d(e.agentNodes,{id:a.payload.agentId,role:a.payload.payload.role||l(a.payload.agentId),status:t})}}case"AGENT_SPAWNING":{let t=a.payload.payload,s=t.step,n=t.txHash,r="failed"===s;return o(e,{id:a.payload.agentId,role:t.role||l(a.payload.agentId),address:t.address,status:r?"failed":"spawning",step:s,fundingTxHash:"funded"===s?n:void 0,passportTxHash:"passport_deployed"===s?n:void 0,sessionTxHash:"session_granted"===s?n:void 0})}case"AGENT_SPAWNED":{let t=a.payload.payload;return o(e,{id:a.payload.agentId,role:t.role||l(a.payload.agentId),address:t.address,status:"active",step:"session_granted",fundingTxHash:t.fundingTxHash,passportTxHash:t.passportTxHash,sessionTxHash:t.sessionTxHash})}case"AGENT_PLAN_CREATED":return{...e,agentPlan:a.payload.payload.agents||[]};case"ORCHESTRATOR_PHASE":return{...e,orchestratorPhase:a.payload.payload.phase||""};case"AGENT_RESULTS":{let t=a.payload.payload,s=t.results||[],n=t.synthesisBody||t.body||void 0;return{...e,agentResults:s.length>0?s:e.agentResults,synthesisBody:n||e.synthesisBody}}case"AGENT_INBOX_CREATED":{let t=a.payload.payload.inboxAddress;return{...e,inboxAddresses:{...e.inboxAddresses,[t]:a.payload.agentId},spawnedAgents:e.spawnedAgents.map(e=>e.id===a.payload.agentId?{...e,inboxAddress:t}:e),agentNodes:e.agentNodes.map(e=>e.id===a.payload.agentId?{...e,inboxAddress:t}:e)}}case"MERGE_ENFORCEMENT":return{...e,enforcementSteps:a.steps};case"SET_SPAWNED_AGENTS":{let t=a.agents.reduce((e,a)=>d(e,{id:a.id,role:a.role,status:a.status,address:a.address,inboxAddress:a.inboxAddress}),e.agentNodes);return{...e,spawnedAgents:a.agents,agentNodes:t}}case"SELECT_NODE":return{...e,selectedNodeId:a.nodeId,selectedEdgeId:null};case"SELECT_EDGE":return{...e,selectedEdgeId:a.edgeId,selectedNodeId:null};case"SET_RUN_ID":return{...e,currentRunId:a.runId};case"RESET":return r}}let p=(0,n.createContext)({state:r,dispatch:()=>void 0,switchUrl:()=>void 0});function m(e){let{url:a,children:t}=e,[l,d]=(0,n.useReducer)(u,r),o=(0,n.useRef)(void 0),{switchUrl:i}=function(e,a){let t=(0,n.useRef)(null),s=(0,n.useRef)(null),r=(0,n.useRef)(a);r.current=a;let l=(0,n.useCallback)(e=>{let a;t.current&&t.current.close(),s.current&&(clearTimeout(s.current),s.current=null);try{a=new EventSource(e)}catch(a){return s.current=setTimeout(()=>l(e),3e3),()=>void 0}t.current=a;let n=e=>{try{let a=JSON.parse(e.data);r.current(a)}catch(e){}};for(let e of["email_received","email_sent","agent_email_received","agent_email_sent","agent_spawning","agent_spawned","agent_plan_created","agent_results","agent_inbox_created","llm_thinking","llm_tool_call","browser_session","browser_screenshot","enforcement_step","payment_start","payment_complete","payment_failed","wallet_update","agent_status","orchestrator_phase","orchestrator_decision","error","replay_complete"])a.addEventListener(e,n);return a.onerror=()=>{a.close(),s.current=setTimeout(()=>l(e),3e3)},()=>{a.close(),t.current=null,s.current&&(clearTimeout(s.current),s.current=null)}},[]);return(0,n.useEffect)(()=>l(e),[e,l]),{switchUrl:(0,n.useCallback)(e=>{l(e)},[l])}}(a,(0,n.useCallback)(e=>{e.runId&&e.runId!==o.current&&(o.current=e.runId,d({type:"RESET"})),d({type:"SET_RUN_ID",runId:e.runId});let a={email_received:"EMAIL_RECEIVED",email_sent:"EMAIL_SENT",browser_session:"BROWSER_SESSION",llm_thinking:"LLM_THINKING",enforcement_step:"ENFORCEMENT_STEP",payment_start:"PAYMENT_START",payment_complete:"PAYMENT_COMPLETE",payment_failed:"PAYMENT_FAILED",agent_status:"AGENT_STATUS",agent_spawning:"AGENT_SPAWNING",agent_spawned:"AGENT_SPAWNED",agent_plan_created:"AGENT_PLAN_CREATED",orchestrator_phase:"ORCHESTRATOR_PHASE",agent_results:"AGENT_RESULTS",agent_email_sent:"AGENT_EMAIL_SENT",agent_email_received:"AGENT_EMAIL_RECEIVED",agent_inbox_created:"AGENT_INBOX_CREATED",orchestrator_decision:"ORCHESTRATOR_DECISION"}[e.type];a&&d({type:a,payload:e})},[])),c=(0,n.useMemo)(()=>({state:l,dispatch:d,switchUrl:i}),[l,i]);return(0,s.jsx)(p.Provider,{value:c,children:t})}let h=()=>(0,n.useContext)(p)}},e=>{var a=a=>e(e.s=a);e.O(0,[456,124,749,441,587,358],()=>a(2027)),_N_E=e.O()}]);